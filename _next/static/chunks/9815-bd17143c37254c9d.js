(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9815],{931:(e,t,r)=>{"use strict";function n(e){let{reason:t,children:r}=e;return r}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return n}}),r(3159)},1039:(e,t,r)=>{"use strict";r.d(t,{default:()=>s.a});var n=r(7684),s=r.n(n)},1773:(e,t,r)=>{"use strict";r.d(t,{default:()=>s.a});var n=r(4930),s=r.n(n)},2379:(e,t,r)=>{"use strict";function n(e,t,r){let{includePage:n=!0,includeSeparator:s=!1,includeRoot:i}=r,a=[];return t.forEach((e,r)=>{if("separator"===e.type&&s&&a.push({name:e.name}),"folder"===e.type){let n=t.at(r+1);if(n&&e.index===n)return;if(e.root){a=[];return}a.push({name:e.name,url:e.index?.url})}"page"===e.type&&n&&a.push({name:e.name,url:e.url})}),i&&a.unshift({name:e.name,url:"object"==typeof i?i.url:void 0}),a}r.d(t,{Pp:()=>n,oe:()=>function e(t,r){let n;for(let s of(r.endsWith("/")&&(r=r.slice(0,-1)),t)){if("separator"===s.type&&(n=s),"folder"===s.type){if(s.index?.url===r){let e=[];return n&&e.push(n),e.push(s,s.index),e}let t=e(s.children,r);if(t)return t.unshift(s),n&&t.unshift(n),t}if("page"===s.type&&s.url===r){let e=[];return n&&e.push(n),e.push(s),e}}return null}}),r(1502),r(7620)},2644:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return l}});let n=r(4568),s=r(7620),i=r(931);function a(e){return{default:e&&"default"in e?e.default:e}}r(4289);let o={loader:()=>Promise.resolve(a(()=>null)),loading:null,ssr:!0},l=function(e){let t={...o,...e},r=(0,s.lazy)(()=>t.loader().then(a)),l=t.loading;function u(e){let a=l?(0,n.jsx)(l,{isLoading:!0,pastDelay:!0,error:null}):null,o=!t.ssr||!!t.loading,u=o?s.Suspense:s.Fragment,c=t.ssr?(0,n.jsxs)(n.Fragment,{children:[null,(0,n.jsx)(r,{...e})]}):(0,n.jsx)(i.BailoutToCSR,{reason:"next/dynamic",children:(0,n.jsx)(r,{...e})});return(0,n.jsx)(u,{...o?{fallback:a}:{},children:c})}return u.displayName="LoadableComponent",u}},2942:(e,t,r)=>{"use strict";var n=r(2418);r.o(n,"useParams")&&r.d(t,{useParams:function(){return n.useParams}}),r.o(n,"usePathname")&&r.d(t,{usePathname:function(){return n.usePathname}}),r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}}),r.o(n,"useSearchParams")&&r.d(t,{useSearchParams:function(){return n.useSearchParams}})},3206:(e,t,r)=>{"use strict";r.d(t,{T:()=>n.T});var n=r(6939);r(1502)},3925:(e,t,r)=>{"use strict";r.d(t,{u4:()=>w});var n=r(4568),s=r(8309),i=r(7620),a=r(7644),o=r(9588),l=r(7448),u=r(7430),c=r(9616),h=r(2945);let d=(0,i.lazy)(()=>Promise.all([r.e(6701),r.e(1247),r.e(2828),r.e(3255)]).then(r.bind(r,6964)));function f(e){let{children:t,dir:r="ltr",theme:i={},search:u,i18n:c}=e,h=t;return(null==u?void 0:u.enabled)!==!1&&(h=(0,n.jsx)(l.YL,{SearchDialog:d,...u,children:h})),(null==i?void 0:i.enabled)!==!1&&(h=(0,n.jsx)(s.N,{attribute:"class",defaultTheme:"system",enableSystem:!0,disableTransitionOnChange:!0,...i,children:h})),c&&(h=(0,n.jsx)(p,{...c,children:h})),(0,n.jsx)(a.FX,{dir:r,children:(0,n.jsx)(o.G,{children:h})})}function p(e){let{locales:t=[],locale:r,onLocaleChange:s,...a}=e,o=(0,h.rd)(),l=(0,h.a8)(),d=(0,u.J)(e=>{if(s)return s(e);let t=l.split("/").filter(e=>e.length>0);t[0]!==r?t.unshift(e):t[0]=e,o.push("/".concat(t.join("/"))),o.refresh()});return(0,n.jsx)(c.gJ.Provider,{value:(0,i.useMemo)(()=>({locale:r,locales:t,text:{...c.Cr,...a.translations},onChange:d}),[r,t,d,a.translations]),children:a.children})}var g=r(279);r(1502);var y=r(2942),m=r(7261),b=r(1773);function v(e){let{children:t}=e;return(0,n.jsx)(g.Uy,{usePathname:y.usePathname,useRouter:y.useRouter,useParams:y.useParams,Link:m,Image:b.default,children:t})}function w(e){return(0,n.jsx)(v,{children:(0,n.jsx)(f,{...e,children:e.children})})}r(8516),r(4598)},4289:(e,t,r)=>{"use strict";function n(e){let{moduleIds:t}=e;return null}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadChunks",{enumerable:!0,get:function(){return n}}),r(4568),r(7509),r(9669),r(2252)},4760:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{default:function(){return b},handleClientScriptLoad:function(){return g},initScriptLoader:function(){return y}});let n=r(1510),s=r(5999),i=r(4568),a=n._(r(7509)),o=s._(r(7620)),l=r(5227),u=r(6575),c=r(5307),h=new Map,d=new Set,f=e=>{if(a.default.preinit)return void e.forEach(e=>{a.default.preinit(e,{as:"style"})});{let t=document.head;e.forEach(e=>{let r=document.createElement("link");r.type="text/css",r.rel="stylesheet",r.href=e,t.appendChild(r)})}},p=e=>{let{src:t,id:r,onLoad:n=()=>{},onReady:s=null,dangerouslySetInnerHTML:i,children:a="",strategy:o="afterInteractive",onError:l,stylesheets:c}=e,p=r||t;if(p&&d.has(p))return;if(h.has(t)){d.add(p),h.get(t).then(n,l);return}let g=()=>{s&&s(),d.add(p)},y=document.createElement("script"),m=new Promise((e,t)=>{y.addEventListener("load",function(t){e(),n&&n.call(this,t),g()}),y.addEventListener("error",function(e){t(e)})}).catch(function(e){l&&l(e)});i?(y.innerHTML=i.__html||"",g()):a?(y.textContent="string"==typeof a?a:Array.isArray(a)?a.join(""):"",g()):t&&(y.src=t,h.set(t,m)),(0,u.setAttributesFromProps)(y,e),"worker"===o&&y.setAttribute("type","text/partytown"),y.setAttribute("data-nscript",o),c&&f(c),document.body.appendChild(y)};function g(e){let{strategy:t="afterInteractive"}=e;"lazyOnload"===t?window.addEventListener("load",()=>{(0,c.requestIdleCallback)(()=>p(e))}):p(e)}function y(e){e.forEach(g),[...document.querySelectorAll('[data-nscript="beforeInteractive"]'),...document.querySelectorAll('[data-nscript="beforePageRender"]')].forEach(e=>{let t=e.id||e.getAttribute("src");d.add(t)})}function m(e){let{id:t,src:r="",onLoad:n=()=>{},onReady:s=null,strategy:u="afterInteractive",onError:h,stylesheets:f,...g}=e,{updateScripts:y,scripts:m,getIsSsr:b,appDir:v,nonce:w}=(0,o.useContext)(l.HeadManagerContext),S=(0,o.useRef)(!1);(0,o.useEffect)(()=>{let e=t||r;S.current||(s&&e&&d.has(e)&&s(),S.current=!0)},[s,t,r]);let x=(0,o.useRef)(!1);if((0,o.useEffect)(()=>{if(!x.current){if("afterInteractive"===u)p(e);else"lazyOnload"===u&&("complete"===document.readyState?(0,c.requestIdleCallback)(()=>p(e)):window.addEventListener("load",()=>{(0,c.requestIdleCallback)(()=>p(e))}));x.current=!0}},[e,u]),("beforeInteractive"===u||"worker"===u)&&(y?(m[u]=(m[u]||[]).concat([{id:t,src:r,onLoad:n,onReady:s,onError:h,...g}]),y(m)):b&&b()?d.add(t||r):b&&!b()&&p(e)),v){if(f&&f.forEach(e=>{a.default.preinit(e,{as:"style"})}),"beforeInteractive"===u)if(!r)return g.dangerouslySetInnerHTML&&(g.children=g.dangerouslySetInnerHTML.__html,delete g.dangerouslySetInnerHTML),(0,i.jsx)("script",{nonce:w,dangerouslySetInnerHTML:{__html:"(self.__next_s=self.__next_s||[]).push("+JSON.stringify([0,{...g,id:t}])+")"}});else return a.default.preload(r,g.integrity?{as:"script",integrity:g.integrity,nonce:w,crossOrigin:g.crossOrigin}:{as:"script",nonce:w,crossOrigin:g.crossOrigin}),(0,i.jsx)("script",{nonce:w,dangerouslySetInnerHTML:{__html:"(self.__next_s=self.__next_s||[]).push("+JSON.stringify([r,{...g,id:t}])+")"}});"afterInteractive"===u&&r&&a.default.preload(r,g.integrity?{as:"script",integrity:g.integrity,nonce:w,crossOrigin:g.crossOrigin}:{as:"script",nonce:w,crossOrigin:g.crossOrigin})}return null}Object.defineProperty(m,"__nextScript",{value:!0});let b=m;("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},4930:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{default:function(){return l},getImageProps:function(){return o}});let n=r(1510),s=r(7258),i=r(3970),a=n._(r(170));function o(e){let{props:t}=(0,s.getImgProps)(e,{defaultLoader:a.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,r]of Object.entries(t))void 0===r&&delete t[e];return{props:t}}let l=i.Image},5307:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{cancelIdleCallback:function(){return n},requestIdleCallback:function(){return r}});let r="undefined"!=typeof self&&self.requestIdleCallback&&self.requestIdleCallback.bind(window)||function(e){let t=Date.now();return self.setTimeout(function(){e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})},1)},n="undefined"!=typeof self&&self.cancelIdleCallback&&self.cancelIdleCallback.bind(window)||function(e){return clearTimeout(e)};("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},6035:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"workAsyncStorageInstance",{enumerable:!0,get:function(){return n}});let n=(0,r(9113).createAsyncLocalStorage)()},6572:e=>{e.exports={style:{fontFamily:"'Inter', 'Inter Fallback'",fontStyle:"normal"},className:"__className_e8ce0c"}},6575:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"setAttributesFromProps",{enumerable:!0,get:function(){return i}});let r={acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv",noModule:"noModule"},n=["onLoad","onReady","dangerouslySetInnerHTML","children","onError","strategy","stylesheets"];function s(e){return["async","defer","noModule"].includes(e)}function i(e,t){for(let[i,a]of Object.entries(t)){if(!t.hasOwnProperty(i)||n.includes(i)||void 0===a)continue;let o=r[i]||i.toLowerCase();"SCRIPT"===e.tagName&&s(o)?e[o]=!!a:e.setAttribute(o,String(a)),(!1===a||"SCRIPT"===e.tagName&&s(o)&&(!a||"false"===a))&&(e.setAttribute(o,""),e.removeAttribute(o))}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},6939:(e,t,r)=>{"use strict";r.d(t,{T:()=>s});var n=r(7620);function s(e,t,r=function e(t,r){if(Array.isArray(t)&&Array.isArray(r))return r.length!==t.length||t.some((t,n)=>e(t,r[n]));if("object"==typeof t&&t&&"object"==typeof r&&r){let n=Object.keys(t),s=Object.keys(r);return n.length!==s.length||n.some(n=>e(t[n],r[n]))}return t!==r}){let[i,a]=(0,n.useState)(e);r(i,e)&&(t(e,i),a(e))}},7430:(e,t,r)=>{"use strict";r.d(t,{J:()=>s}),r(1502);var n=r(7620);function s(e){let t=(0,n.useRef)(e);return t.current=e,(0,n.useCallback)(function(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];return t.current(...r)},[])}},7448:(e,t,r)=>{"use strict";r.d(t,{$A:()=>a,YL:()=>l});var n=r(4568),s=r(7620);let i=(0,r(2945).q6)("SearchContext",{enabled:!1,hotKey:[],setOpenSearch:()=>void 0});function a(){return i.use()}function o(){let[e,t]=(0,s.useState)("âŒ˜");return(0,s.useEffect)(()=>{window.navigator.userAgent.includes("Windows")&&t("Ctrl")},[]),e}function l(e){let{SearchDialog:t,children:r,preload:a=!0,options:l,hotKey:u=[{key:e=>e.metaKey||e.ctrlKey,display:(0,n.jsx)(o,{})},{key:"k",display:"K"}],links:c}=e,[h,d]=(0,s.useState)(!a&&void 0);return(0,s.useEffect)(()=>{let e=e=>{u.every(t=>"string"==typeof t.key?e.key===t.key:t.key(e))&&(d(!0),e.preventDefault())};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}},[u]),(0,n.jsxs)(i.Provider,{value:(0,s.useMemo)(()=>({enabled:!0,hotKey:u,setOpenSearch:d}),[u]),children:[void 0!==h&&(0,n.jsx)(t,{open:h,onOpenChange:d,links:c,...l}),r]})}},7644:(e,t,r)=>{"use strict";r.d(t,{FX:()=>a,jH:()=>o});var n=r(7620),s=r(4568),i=n.createContext(void 0),a=e=>{let{dir:t,children:r}=e;return(0,s.jsx)(i.Provider,{value:t,children:r})};function o(e){let t=n.useContext(i);return e||t||"ltr"}},7684:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return s}});let n=r(1510)._(r(2644));function s(e,t){var r;let s={};"function"==typeof e&&(s.loader=e);let i={...s,...t};return(0,n.default)({...i,modules:null==(r=i.loadableGenerated)?void 0:r.modules})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},8516:(e,t,r)=>{"use strict";r.d(t,{L:()=>c,TreeContextProvider:()=>u,t:()=>h});var n=r(4568),s=r(2945),i=r(7620),a=r(2379);let o=(0,s.q6)("TreeContext"),l=(0,s.q6)("PathContext",[]);function u(e){var t,r,u;let c=(0,i.useRef)(0),h=(0,s.a8)(),d=(0,i.useMemo)(()=>e.tree,[null!=(t=e.tree.$id)?t:e.tree]),f=(0,i.useMemo)(()=>{var e;return null!=(e=(0,a.oe)(d.children,h))?e:[]},[d,h]),p=null!=(r=f.findLast(e=>"folder"===e.type&&e.root))?r:d;return null!=p.$id||(p.$id=String(c.current++)),(0,n.jsx)(o.Provider,{value:(0,i.useMemo)(()=>({root:p}),[p]),children:(0,n.jsx)(l.Provider,{value:f,children:e.children})})}function c(){return l.use()}function h(){return o.use("You must wrap this component under <DocsLayout />")}},8650:(e,t,r)=>{"use strict";r.d(t,{GB:()=>l,Pg:()=>c,x2:()=>u}),r(1502);var n=r(7620),s=r(7146),i=r(4568),a=(0,n.createContext)(null);function o(){let e=(0,n.useContext)(a);if(!e)throw Error("Missing sidebar provider");return e}function l(e){let[t,r]=void 0===e.open?(0,n.useState)(!1):[e.open,e.onOpenChange];return(0,i.jsx)(a.Provider,{value:(0,n.useMemo)(()=>({open:t,setOpen:null!=r?r:()=>void 0}),[t,r]),children:e.children})}function u(e){let{as:t,...r}=e,{open:n,setOpen:s}=o();return(0,i.jsx)(null!=t?t:"button",{"aria-label":"Toggle Sidebar","data-open":n,onClick:()=>{s(!n)},...r})}function c(e){let{as:t,blockScrollingWidth:r,removeScrollOn:a=r?"(width < ".concat(r,"px)"):void 0,...l}=e,{open:u}=o(),[c,h]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{if(!a)return;let e=window.matchMedia(a),t=()=>{h(e.matches)};return t(),e.addEventListener("change",t),()=>{e.removeEventListener("change",t)}},[a]),(0,i.jsx)(s.A,{as:null!=t?t:"aside","data-open":u,enabled:!!(c&&u),...l,children:l.children})}},8963:(e,t,r)=>{"use strict";r.d(t,{OB:()=>U});var n=Object.create,s=Object.defineProperty,i=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,o=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,u=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),c=(e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of a(t))l.call(e,o)||o===r||s(e,o,{get:()=>t[o],enumerable:!(n=i(t,o))||n.enumerable});return e},h=(e,t,r)=>(r=null!=e?n(o(e)):{},c(!t&&e&&e.__esModule?r:s(r,"default",{value:e,enumerable:!0}),e)),d=u(e=>{function t(e){if(!Number.isSafeInteger(e)||e<0)throw Error(`positive integer expected, not ${e}`)}function r(e){if("boolean"!=typeof e)throw Error(`boolean expected, not ${e}`)}function n(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name}function s(e,...t){if(!n(e))throw Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}function i(e){if("function"!=typeof e||"function"!=typeof e.create)throw Error("Hash should be wrapped by utils.wrapConstructor");t(e.outputLen),t(e.blockLen)}function a(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")}function o(e,t){s(e);let r=t.outputLen;if(e.length<r)throw Error(`digestInto() expects output buffer of length at least ${r}`)}Object.defineProperty(e,"__esModule",{value:!0}),e.isBytes=n,e.number=t,e.bool=r,e.bytes=s,e.hash=i,e.exists=a,e.output=o,e.default={number:t,bool:r,bytes:s,hash:i,exists:a,output:o}}),f=u(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.add5L=e.add5H=e.add4H=e.add4L=e.add3H=e.add3L=e.rotlBL=e.rotlBH=e.rotlSL=e.rotlSH=e.rotr32L=e.rotr32H=e.rotrBL=e.rotrBH=e.rotrSL=e.rotrSH=e.shrSL=e.shrSH=e.toBig=void 0,e.fromBig=n,e.split=s,e.add=b;var t=BigInt(0x100000000-1),r=BigInt(32);function n(e,s=!1){return s?{h:Number(e&t),l:Number(e>>r&t)}:{h:0|Number(e>>r&t),l:0|Number(e&t)}}function s(e,t=!1){let r=new Uint32Array(e.length),i=new Uint32Array(e.length);for(let s=0;s<e.length;s++){let{h:a,l:o}=n(e[s],t);[r[s],i[s]]=[a,o]}return[r,i]}var i=(e,t)=>BigInt(e>>>0)<<r|BigInt(t>>>0);e.toBig=i;var a=(e,t,r)=>e>>>r;e.shrSH=a;var o=(e,t,r)=>e<<32-r|t>>>r;e.shrSL=o;var l=(e,t,r)=>e>>>r|t<<32-r;e.rotrSH=l;var u=(e,t,r)=>e<<32-r|t>>>r;e.rotrSL=u;var c=(e,t,r)=>e<<64-r|t>>>r-32;e.rotrBH=c;var h=(e,t,r)=>e>>>r-32|t<<64-r;e.rotrBL=h;var d=(e,t)=>t;e.rotr32H=d;var f=(e,t)=>e;e.rotr32L=f;var p=(e,t,r)=>e<<r|t>>>32-r;e.rotlSH=p;var g=(e,t,r)=>t<<r|e>>>32-r;e.rotlSL=g;var y=(e,t,r)=>t<<r-32|e>>>64-r;e.rotlBH=y;var m=(e,t,r)=>e<<r-32|t>>>64-r;function b(e,t,r,n){let s=(t>>>0)+(n>>>0);return{h:e+r+(s/0x100000000|0)|0,l:0|s}}e.rotlBL=m;var v=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0);e.add3L=v;var w=(e,t,r,n)=>t+r+n+(e/0x100000000|0)|0;e.add3H=w;var S=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0);e.add4L=S;var x=(e,t,r,n,s)=>t+r+n+s+(e/0x100000000|0)|0;e.add4H=x;var I=(e,t,r,n,s)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(s>>>0);e.add5L=I;var k=(e,t,r,n,s,i)=>t+r+n+s+i+(e/0x100000000|0)|0;e.add5H=k,e.default={fromBig:n,split:s,toBig:i,shrSH:a,shrSL:o,rotrSH:l,rotrSL:u,rotrBH:c,rotrBL:h,rotr32H:d,rotr32L:f,rotlSH:p,rotlSL:g,rotlBH:y,rotlBL:m,add:b,add3L:v,add3H:w,add4L:S,add4H:x,add5H:k,add5L:I}}),p=u(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.crypto=void 0,e.crypto="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0}),g=u(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Hash=e.nextTick=e.byteSwapIfBE=e.byteSwap=e.isLE=e.rotl=e.rotr=e.createView=e.u32=e.u8=void 0,e.isBytes=function(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name},e.byteSwap32=function(t){for(let r=0;r<t.length;r++)t[r]=(0,e.byteSwap)(t[r])},e.bytesToHex=function(e){(0,r.bytes)(e);let t="";for(let r=0;r<e.length;r++)t+=n[e[r]];return t},e.hexToBytes=function(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);let t=e.length,r=t/2;if(t%2)throw Error("padded hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(r);for(let t=0,s=0;t<r;t++,s+=2){let r=i(e.charCodeAt(s)),a=i(e.charCodeAt(s+1));if(void 0===r||void 0===a)throw Error('hex string expected, got non-hex character "'+(e[s]+e[s+1])+'" at index '+s);n[t]=16*r+a}return n},e.asyncLoop=a,e.utf8ToBytes=o,e.toBytes=l,e.concatBytes=function(...e){let t=0;for(let n=0;n<e.length;n++){let s=e[n];(0,r.bytes)(s),t+=s.length}let n=new Uint8Array(t);for(let t=0,r=0;t<e.length;t++){let s=e[t];n.set(s,r),r+=s.length}return n},e.checkOpts=function(e,t){if(void 0!==t&&"[object Object]"!==u.call(t))throw Error("Options should be object or undefined");return Object.assign(e,t)},e.wrapConstructor=function(e){let t=t=>e().update(l(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t},e.wrapConstructorWithOpts=function(e){let t=(t,r)=>e(r).update(l(t)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t},e.wrapXOFConstructorWithOpts=function(e){let t=(t,r)=>e(r).update(l(t)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t},e.randomBytes=function(e=32){if(t.crypto&&"function"==typeof t.crypto.getRandomValues)return t.crypto.getRandomValues(new Uint8Array(e));if(t.crypto&&"function"==typeof t.crypto.randomBytes)return t.crypto.randomBytes(e);throw Error("crypto.getRandomValues must be defined")};var t=p(),r=d();e.u8=e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength),e.u32=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),e.createView=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),e.rotr=(e,t)=>e<<32-t|e>>>t,e.rotl=(e,t)=>e<<t|e>>>32-t>>>0,e.isLE=68===new Uint8Array(new Uint32Array([0x11223344]).buffer)[0],e.byteSwap=e=>e<<24&0xff000000|e<<8&0xff0000|e>>>8&65280|e>>>24&255,e.byteSwapIfBE=e.isLE?e=>e:t=>(0,e.byteSwap)(t);var n=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0")),s={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function i(e){return e>=s._0&&e<=s._9?e-s._0:e>=s._A&&e<=s._F?e-(s._A-10):e>=s._a&&e<=s._f?e-(s._a-10):void 0}async function a(t,r,n){let s=Date.now();for(let i=0;i<t;i++){n(i);let t=Date.now()-s;t>=0&&t<r||(await (0,e.nextTick)(),s+=t)}}function o(e){if("string"!=typeof e)throw Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function l(e){return"string"==typeof e&&(e=o(e)),(0,r.bytes)(e),e}e.nextTick=async()=>{},e.Hash=class{clone(){return this._cloneInto()}};var u={}.toString}),y=u(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.shake256=e.shake128=e.keccak_512=e.keccak_384=e.keccak_256=e.keccak_224=e.sha3_512=e.sha3_384=e.sha3_256=e.sha3_224=e.Keccak=void 0,e.keccakP=w;var t=d(),r=f(),n=g(),s=[],i=[],a=[],o=BigInt(0),l=BigInt(1),u=BigInt(2),c=BigInt(7),h=BigInt(256),p=BigInt(113);for(let e=0,t=l,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],s.push(2*(5*n+r)),i.push((e+1)*(e+2)/2%64);let d=o;for(let e=0;e<7;e++)(t=(t<<l^(t>>c)*p)%h)&u&&(d^=l<<(l<<BigInt(e))-l);a.push(d)}var[y,m]=(0,r.split)(a,!0),b=(e,t,n)=>n>32?(0,r.rotlBH)(e,t,n):(0,r.rotlSH)(e,t,n),v=(e,t,n)=>n>32?(0,r.rotlBL)(e,t,n):(0,r.rotlSL)(e,t,n);function w(e,t=24){let r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let t=0;t<10;t++)r[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){let n=(t+8)%10,s=(t+2)%10,i=r[s],a=r[s+1],o=b(i,a,1)^r[n],l=v(i,a,1)^r[n+1];for(let r=0;r<50;r+=10)e[t+r]^=o,e[t+r+1]^=l}let t=e[2],a=e[3];for(let r=0;r<24;r++){let n=i[r],o=b(t,a,n),l=v(t,a,n),u=s[r];t=e[u],a=e[u+1],e[u]=o,e[u+1]=l}for(let t=0;t<50;t+=10){for(let n=0;n<10;n++)r[n]=e[t+n];for(let n=0;n<10;n++)e[t+n]^=~r[(n+2)%10]&r[(n+4)%10]}e[0]^=y[n],e[1]^=m[n]}r.fill(0)}var S=class e extends n.Hash{constructor(e,r,s,i=!1,a=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=s,this.enableXOF=i,this.rounds=a,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,t.number)(s),0>=this.blockLen||this.blockLen>=200)throw Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,n.u32)(this.state)}keccak(){n.isLE||(0,n.byteSwap32)(this.state32),w(this.state32,this.rounds),n.isLE||(0,n.byteSwap32)(this.state32),this.posOut=0,this.pos=0}update(e){(0,t.exists)(this);let{blockLen:r,state:s}=this,i=(e=(0,n.toBytes)(e)).length;for(let t=0;t<i;){let n=Math.min(r-this.pos,i-t);for(let r=0;r<n;r++)s[this.pos++]^=e[t++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:t,pos:r,blockLen:n}=this;e[r]^=t,128&t&&r===n-1&&this.keccak(),e[n-1]^=128,this.keccak()}writeInto(e){(0,t.exists)(this,!1),(0,t.bytes)(e),this.finish();let r=this.state,{blockLen:n}=this;for(let t=0,s=e.length;t<s;){this.posOut>=n&&this.keccak();let i=Math.min(n-this.posOut,s-t);e.set(r.subarray(this.posOut,this.posOut+i),t),this.posOut+=i,t+=i}return e}xofInto(e){if(!this.enableXOF)throw Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return(0,t.number)(e),this.xofInto(new Uint8Array(e))}digestInto(e){if((0,t.output)(e,this),this.finished)throw Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){let{blockLen:r,suffix:n,outputLen:s,rounds:i,enableXOF:a}=this;return t||(t=new e(r,n,s,a,i)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=i,t.suffix=n,t.outputLen=s,t.enableXOF=a,t.destroyed=this.destroyed,t}};e.Keccak=S;var x=(e,t,r)=>(0,n.wrapConstructor)(()=>new S(t,e,r));e.sha3_224=x(6,144,28),e.sha3_256=x(6,136,32),e.sha3_384=x(6,104,48),e.sha3_512=x(6,72,64),e.keccak_224=x(1,144,28),e.keccak_256=x(1,136,32),e.keccak_384=x(1,104,48),e.keccak_512=x(1,72,64);var I=(e,t,r)=>(0,n.wrapXOFConstructorWithOpts)((n={})=>new S(t,e,void 0===n.dkLen?r:n.dkLen,!0));e.shake128=I(31,168,16),e.shake256=I(31,136,32)}),m=u((e,t)=>{var{sha3_512:r}=y(),n=24,s=32,i=(e=4,t=Math.random)=>{let r="";for(;r.length<e;)r+=Math.floor(36*t()).toString(36);return r};function a(e){let t=BigInt(8),r=BigInt(0);for(let n of e.values())r=(r<<t)+BigInt(n);return r}var o=(e="")=>a(r(e)).toString(36).slice(1),l=Array.from({length:26},(e,t)=>String.fromCharCode(t+97)),u=e=>l[Math.floor(e()*l.length)],c=({globalObj:e="u">typeof global?global:"u">typeof window?window:{},random:t=Math.random}={})=>{let r=Object.keys(e).toString();return o(r.length?r+i(s,t):i(s,t)).substring(0,s)},h=e=>()=>e++,d=0x1c6b1f1f,f=({random:e=Math.random,counter:t=h(Math.floor(e()*d)),length:r=n,fingerprint:s=c({random:e})}={})=>function(){let n=u(e),a=Date.now().toString(36),l=t().toString(36),c=i(r,e),h=`${a+c+l+s}`;return`${n+o(h).substring(1,r)}`},p=f();t.exports.getConstants=()=>({defaultLength:n,bigLength:s}),t.exports.init=f,t.exports.createId=p,t.exports.bufToBigInt=a,t.exports.createCounter=h,t.exports.createFingerprint=c,t.exports.isCuid=(e,{minLength:t=2,maxLength:r=s}={})=>{let n=e.length;return!!("string"==typeof e&&n>=t&&n<=r&&/^[a-z][0-9a-z]+$/.test(e))}}),b=u((e,t)=>{var{createId:r,init:n,getConstants:s,isCuid:i}=m();t.exports.createId=r,t.exports.init=n,t.exports.getConstants=s,t.exports.isCuid=i}),v=h(b(),1);Date.now().toString().slice(5);var w=BigInt(1e3),S=BigInt(1e6),x=BigInt(1e9);function I(e){var t;return{raw:Number(e),formatted:("number"==typeof(t=e)&&(t=BigInt(t)),t<w?`${t}ns`:t<S?`${t/w}\u03BCs`:t<x?`${t/S}ms`:`${t/x}s`)}}["arabic","armenian","bulgarian","danish","dutch","english","finnish","french","german","greek","hungarian","indian","indonesian","irish","italian","lithuanian","nepali","norwegian","portuguese","romanian","russian","serbian","slovenian","spanish","swedish","tamil","turkish","ukrainian","sanskrit"].join(`
 - `);var k="2.1.4",_={version:k},C=h(b(),1),O="orama_user_id";function P(e){return"object"==typeof e?JSON.stringify(e):`${e}`}var L=class{messages;inferenceType;oramaClient;endpoint;abortController;events;userContext;conversationID;lastInteractionParams;state=[];systemPrompts;constructor(e){let t=e.oramaClient.answersApiBaseURL||"https://answer.api.orama.com";this.messages=e.initialMessages||[],this.inferenceType=e.inferenceType,this.oramaClient=e.oramaClient,this.endpoint=`${t}/v1/answer?api-key=${this.oramaClient.api_key}`,this.events=e.events,this.conversationID=(0,C.createId)(),this.userContext=e.userContext}async askStream(e){return this.messages.push({role:"user",content:e.term??""}),this.fetchAnswer(e)}async ask(e){let t=await this.askStream(e),r="";for await(let e of t)r=e;return this.events?.onMessageChange&&this.events.onMessageChange(this.messages),r}getMessages(){return this.messages}clearSession(){this.messages=[],this.state=[],this.events?.onMessageChange&&this.events.onMessageChange(this.messages),this.events?.onStateChange&&this.events.onStateChange(this.state)}abortAnswer(){if(!this.abortController)throw Error("AbortController is not ready");this.abortController.abort(),this.abortController=void 0,this.state[this.state.length-1].aborted=!0}async regenerateLast({stream:e=!0}={}){if(0===this.state.length||0===this.messages.length)throw Error("No messages to regenerate");if(this.messages.at(-1)?.role!=="assistant")throw Error("Last message is not an assistant message");return this.messages.pop(),this.state.pop(),e?this.askStream(this.lastInteractionParams):this.ask(this.lastInteractionParams)}addNewEmptyAssistantMessage(){this.messages.push({role:"assistant",content:""})}async *fetchAnswer(e){this.abortController=new AbortController,this.lastInteractionParams=e;let t=(0,C.createId)(),r=null,n=this.state.length;this.state.push({interactionId:t,query:e.term??"",response:"",relatedQueries:null,sources:null,translatedQuery:null,segment:null,trigger:null,aborted:!1,loading:!0,error:!1,errorMessage:null});try{this.events?.onNewInteractionStarted&&this.events.onNewInteractionStarted(t),this.events?.onStateChange&&this.events.onStateChange(this.state);let s=new URLSearchParams;s.append("type",this.inferenceType),s.append("messages",JSON.stringify(this.messages)),s.append("query",e.term??""),s.append("conversationId",this.conversationID),s.append("userId",this.oramaClient.getUserId()),s.append("endpoint",this.oramaClient.endpoint),s.append("searchParams",JSON.stringify(e)),s.append("identity",this.oramaClient.getIdentity()??""),s.append("interactionId",t),s.append("alias",this.oramaClient.getAlias()??"");let i=this.getSystemPromptConfiguration();if(i&&s.append("systemPrompts",JSON.stringify(i)),this.userContext&&s.append("userContext",P(this.userContext)),e.userData&&s.append("userData",P(e.userData)),e.related){if(e.related?.howMany&&e.related?.howMany>5)throw Error("Can generate at most 5 related queries");s.append("related",JSON.stringify({enabled:!0,howMany:e.related.howMany??3,format:e.related.format??"question"}))}let a=await fetch(this.endpoint,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:s.toString(),signal:this.abortController.signal});if(!a.ok||!a.body)throw Error(a.statusText);r=a.body.getReader();let o=new TextDecoder,l=[],u="";this.events?.onMessageLoading&&this.events.onMessageLoading(!0),this.addNewEmptyAssistantMessage();let c=this.messages.at(-1);for(;;){let e,{value:t,done:s}=await r.read();if(s)break;for(u+=o.decode(t,{stream:!0});-1!==(e=u.indexOf(`

`));){let t=u.slice(0,e);u=u.slice(e+2);try{let e=function(e){let[t,...r]=e.split(`
`),n=r.join(`
`).replace("data: ","");return{event:t.replace("event: ",""),data:n}}(t),r=JSON.parse(e.data);if("sources"===r.type)this.state[n].sources=r.message,this.events?.onSourceChange&&this.events.onSourceChange(r.message),this.events?.onStateChange&&this.events.onStateChange(this.state);else if("query-translated"===r.type)this.state[n].translatedQuery=r.message,this.events?.onQueryTranslated&&this.events.onQueryTranslated(r.message),this.events?.onStateChange&&this.events.onStateChange(this.state);else if("conversation-metadata"===r.type){let{segment:e,trigger:t}=r.message;e&&(this.state[n].segment=e),t&&(this.state[n].trigger=t),this.events?.onStateChange&&this.events.onStateChange(this.state)}else if("related-queries"===r.type)this.state[n].relatedQueries=r.message,this.events?.onRelatedQueries&&this.events.onRelatedQueries(r.message),this.events?.onStateChange&&this.events.onStateChange(this.state);else if("text"===r.type)for(l.push(r.message);l.length>0;)c.content+=l.shift(),this.state[n].response=c.content,this.events?.onStateChange&&this.events.onStateChange(this.state),this.events?.onMessageChange&&this.events.onMessageChange(this.messages),yield c.content}catch(e){console.error("Error parsing SSE event:",e),console.error("Raw message:",t)}}}}catch(e){if("AbortError"===e.name)this.state[n].aborted=!0,this.events?.onAnswerAborted&&this.events.onAnswerAborted(!0);else throw this.state[n].error=!0,this.state[n].errorMessage=e.message??"Unknown error",e}finally{r?.releaseLock(),this.state[n].loading=!1,this.events?.onStateChange&&this.events.onStateChange(this.state),this.events?.onInteractionDone&&this.events.onInteractionDone(this.state[n]),this.events?.onMessageLoading&&this.events.onMessageLoading(!1)}}setSystemPromptConfiguration(e){if(Array.isArray(e.systemPrompts)){if(!e.systemPrompts.every(e=>"string"==typeof e))throw Error("Invalid system prompt configuration");this.systemPrompts=e.systemPrompts}return this}getSystemPromptConfiguration(){return this.systemPrompts}},A=class{cache;config;constructor(e){this.cache=new Map,this.config=e}set(e,t){this.cache.set(e,t)}get(e){return this.cache.get(e)}has(e){return this.cache.has(e)}delete(e){return this.cache.delete(e)}clear(){this.cache.clear()}size(){return this.cache.size}};function T(e,t){if("u">typeof navigator){"u">typeof navigator.sendBeacon&&navigator.sendBeacon(e,t);return}fetch(e,{method:"POST",body:t,headers:{"Content-Type":"application/json"}}).then(()=>{},e=>console.log(e))}var j=class e{data;params;config;profile;constructor(e,t){this.data=[],this.config=e,this.profile=t}setParams(e){this.params=e}static create(t,r){let n=new e(t,r);return n.start(),n}add(e){this.data.push({rawSearchString:e.rawSearchString,query:e.query,resultsCount:e.resultsCount,roundTripTime:e.roundTripTime,searchedAt:e.searchedAt,userId:this.profile.getUserId(),identity:this.profile.getIdentity(),alias:this.profile.getAlias(),referer:"u">typeof location?location.toString():void 0}),null!=this.params&&this.data.length>=this.config.flushSize&&this.flush()}flush(){if(null==this.params||0===this.data.length)return;let e=this.data;this.data=[];let t={source:"fe",deploymentID:this.params.deploymentID,index:this.params.index,oramaId:this.config.id,oramaVersion:_.version,userAgent:"u">typeof navigator?navigator.userAgent:void 0,events:e};T(`${this.params.endpoint}?api-key=${this.config.api_key}`,JSON.stringify(t))?.catch(e=>console.log(e))}start(){let e=setInterval(this.flush.bind(this),this.config.flushInterval);null!=e.unref&&e.unref()}},E=class{constructor(e){this.params=e}intervalId;start(){this.stop(),this.intervalId=setInterval(this.beat.bind(this),this.params.frequency)}stop(){void 0!==this.intervalId&&clearInterval(this.intervalId)}beat(){T(this.params.endpoint)?.catch(e=>console.log(e))}},M=h(b(),1),B=class{endpoint;apiKey;userId;identity;userAlias;params;constructor({endpoint:e,apiKey:t}){if(!e||!t)throw Error("Endpoint and API Key are required to create a Profile");if("string"!=typeof e||"string"!=typeof t)throw Error("Endpoint and API Key must be strings");if("u">typeof localStorage){let e=localStorage.getItem(O);e?this.userId=e:(this.userId=(0,M.createId)(),localStorage.setItem(O,this.userId))}else this.userId=(0,M.createId)();this.endpoint=e,this.apiKey=t}setParams(e){let{protocol:t,host:r}=new URL(e.identifyUrl),n=`${t}//${r}/identify`;this.params={identifyUrl:n,index:e.index}}getIdentity(){return this.identity}getUserId(){return this.userId}getAlias(){return this.userAlias}async sendProfileData(e){if(!this.params)throw Error("Orama Profile is not initialized");let t=JSON.stringify({...e,visitorId:this.getUserId(),index:this.params.index});await T(`${this.params?.identifyUrl}?api-key=${this.apiKey}`,t)}async identify(e,t){if("string"!=typeof t)throw Error("Identity must be a string");await e,await this.sendProfileData({entity:"identity",id:t}),this.identity=t}async alias(e,t){if("string"!=typeof t)throw Error("Identity must be a string");await e,await this.sendProfileData({entity:"alias",id:t}),this.userAlias=t}reset(){this.userId=(0,M.createId)(),this.identity=void 0,this.userAlias=void 0}},U=class{id=(0,v.createId)();api_key;endpoint;multiIndexSearch;mergeResults;multiIndexIndexes;answersApiBaseURL;collector;cache;profile;searchDebounceTimer;searchRequestCounter=0;blockSearchTillAuth=!1;heartbeat;initPromise;constructor(e){if("indexes"in e){this.api_key=e.indexes[0].api_key,this.multiIndexIndexes=e.indexes;let t=new URL(e.indexes[0].endpoint).origin;if(e.indexes.some(e=>new URL(e.endpoint).origin!==t))throw Error("All indexes must have the same endpoint origin");this.endpoint=t+"/v1/indexes",this.multiIndexSearch=!0,this.mergeResults=e.mergeResults??!0}else this.api_key=e.api_key,this.endpoint=e.endpoint,this.multiIndexSearch=!1,this.mergeResults=!0;if(this.answersApiBaseURL=e.answersApiBaseURL,this.profile=new B({endpoint:this.endpoint,apiKey:this.api_key}),!1!==e.telemetry){let t={id:this.id,api_key:this.api_key,flushInterval:e.telemetry?.flushInterval??5e3,flushSize:e.telemetry?.flushSize??25};this.collector=j.create(t,this.profile)}!1!==e.cache&&(this.cache=new A({})),this.init()}customerUserToken=void 0;searchToken=void 0;setAuthToken(e){null===e?this.customerUserToken=void 0:this.customerUserToken=e,this.searchToken=void 0,this.init()}onAuthTokenExpired;setOnAuthTokenExpired(e){this.onAuthTokenExpired=e}addSearchResultsToCollector(e,t,r,n){if(this.collector)if(Array.isArray(e))for(let s of e)this.collector.add({rawSearchString:r.term,resultsCount:s.hits?.length??0,roundTripTime:t,query:r,cached:n,searchedAt:new Date,userId:this.profile.getUserId()});else this.collector.add({rawSearchString:r.term,resultsCount:e?.hits?.length??0,roundTripTime:t,query:r,cached:n,searchedAt:new Date,userId:this.profile.getUserId()})}async search(e,t){if(await this.initPromise,this.blockSearchTillAuth)return console.warn("Search request blocked until user is authenticated"),null;let r=++this.searchRequestCounter,n=`search-${JSON.stringify(e)}`,s=null,i,a=!1,o=t?.fresh!==!0&&this.cache?.has(n),l=async()=>{try{let r=Date.now();s=this.multiIndexSearch?await this.fetch("multi_search","POST",{q:{...e,mergeResults:this.mergeResults},sst:this.searchToken,indexes:this.multiIndexIndexes},t?.abortController):await this.fetch("search","POST",{q:e,sst:this.searchToken},t?.abortController);let a=Date.now();i=a-r;let o=await I(BigInt(1e6*a-1e6*r));if(Array.isArray(s))for(let e of s)e.elapsed=o;else s.elapsed=o;this.cache?.set(n,s)}catch(e){if("AbortError"!==e.name)throw console.error("Search request failed",e),e}return this.addSearchResultsToCollector(s,i,e,a),s};return o&&this.cache?(i=0,s=this.cache.get(n),a=!0,this.addSearchResultsToCollector(s,i,e,a),r===this.searchRequestCounter?s:null):t?.debounce?new Promise((e,r)=>{clearTimeout(this.searchDebounceTimer),this.searchDebounceTimer=setTimeout(async()=>{try{await l(),e(s)}catch(e){"AbortError"!==e.name&&(console.error("Search request failed",e),r(e))}},t?.debounce||300),"unref"in this.searchDebounceTimer&&this.searchDebounceTimer.unref()}):l()}async vectorSearch(e,t){await this.initPromise;let r=`vectorSearch-${JSON.stringify(e)}`,n,s,i=!1;if((t?.fresh!==!0&&this.cache?.has(r))===!0&&null!=this.cache)n=0,s=this.cache.get(r),i=!0;else{let i=Date.now();s=await this.fetch("vector-search2","POST",{q:e},t?.abortSignal??t?.abortController);let a=Date.now();s.elapsed=await I(BigInt(1e6*a-1e6*i)),n=a-i,this.cache?.set(r,s)}return null!=this.collector&&this.collector.add({rawSearchString:e.term,resultsCount:s.hits?.length??0,roundTripTime:n,query:e,cached:i,searchedAt:new Date,userId:this.profile.getUserId()}),s}createAnswerSession(e){return new L({inferenceType:e?.inferenceType||"documentation",initialMessages:e?.initialMessages||[],oramaClient:this,events:e?.events,userContext:e?.userContext,systemPrompts:e?.systemPrompts??[]})}startHeartBeat(e){this.heartbeat?.stop(),this.heartbeat=new E({...e,endpoint:`${this.endpoint}/health?api-key=${this.api_key}`}),this.heartbeat.start()}stopHeartBeat(){this.heartbeat?.stop()}async getPop(){return(await this.initPromise)?.pop??""}expirationTimer;init(){let e=["init","GET",void 0,void 0,{token:this.customerUserToken}];this.multiIndexSearch&&(e=["init_multi_search","POST",{indexes:this.multiIndexIndexes},void 0,{token:this.customerUserToken}]),this.initPromise=this.fetch(...e).then(e=>{if(this.collector?.setParams({endpoint:e.collectUrl,deploymentID:e.deploymentID,index:e.index}),this.profile?.setParams({identifyUrl:e.collectUrl,index:e.index}),e.searchSession){if("required"in e.searchSession&&!0===e.searchSession.required)this.blockSearchTillAuth=!0;else if("token"in e.searchSession){let t=e.searchSession.token;this.searchToken=t;let r=e.searchSession.maxAge;this.blockSearchTillAuth=!1,this.expirationTimer&&clearTimeout(this.expirationTimer),this.expirationTimer=setTimeout(()=>{this.searchToken===t&&(this.searchToken=void 0,this.blockSearchTillAuth=!0,this.onAuthTokenExpired?.(t))},1e3*r),"unref"in this.expirationTimer&&this.expirationTimer.unref()}}return e}).catch(e=>(console.log(e),null))}async fetch(e,t,r,n,s){let i=void 0!==n&&n?.signal!==void 0?n?.signal:n;if(i?.aborted===!0)throw Error("Request aborted");let a={method:t,headers:{"Content-Type":"application/x-www-form-urlencoded"},signal:i};"POST"===t&&void 0!==r&&(r.version=k,r.id=this.id,r.visitorId=this.profile.getUserId(),a.body=Object.entries(r).filter(([e,t])=>!!t).map(([e,t])=>`${e}=${encodeURIComponent(JSON.stringify(t))}`).join("&"));let o=new URL(`${this.endpoint}/${e}`);if(this.multiIndexSearch||o.searchParams.append("api-key",this.api_key),s)for(let[e,t]of Object.entries(s))t&&o.searchParams.append(e,t);let l=await fetch(o,a);if(!l.ok){let e=Error();throw e.httpResponse=l,e}return await l.json()}getIdentity(){return this.profile.getIdentity()}getUserId(){return this.profile.getUserId()}getAlias(){return this.profile.getAlias()}async identify(e){if(void 0===this.initPromise)throw Error("OramaClient not initialized");await this.profile.identify(this.initPromise,e)}async alias(e){if(void 0===this.initPromise)throw Error("OramaClient not initialized");await this.profile.alias(this.initPromise,e)}reset(){this.profile.reset()}},R="snapshot",H="notify"},9113:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{bindSnapshot:function(){return a},createAsyncLocalStorage:function(){return i},createSnapshot:function(){return o}});let r=Object.defineProperty(Error("Invariant: AsyncLocalStorage accessed in runtime where it is not available"),"__NEXT_ERROR_CODE",{value:"E504",enumerable:!1,configurable:!0});class n{disable(){throw r}getStore(){}run(){throw r}exit(){throw r}enterWith(){throw r}static bind(e){return e}}let s="undefined"!=typeof globalThis&&globalThis.AsyncLocalStorage;function i(){return s?new s:new n}function a(e){return s?s.bind(e):n.bind(e)}function o(){return s?s.snapshot():function(e,...t){return e(...t)}}},9588:(e,t,r)=>{"use strict";r.d(t,{G:()=>c,c:()=>u});var n=r(4568),s=r(7620),i=r(2945),a=r(8650),o=r(3206);let l=(0,i.q6)("SidebarContext");function u(){return l.use()}function c(e){let{children:t}=e,r=(0,s.useRef)(!0),[u,c]=(0,s.useState)(!1),[h,d]=(0,s.useState)(!1),f=(0,i.a8)();return(0,o.T)(f,()=>{r.current&&c(!1),r.current=!0}),(0,n.jsx)(l.Provider,{value:(0,s.useMemo)(()=>({open:u,setOpen:c,collapsed:h,setCollapsed:d,closeOnRedirect:r}),[u,h]),children:(0,n.jsx)(a.GB,{open:u,onOpenChange:c,children:t})})}},9669:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"workAsyncStorage",{enumerable:!0,get:function(){return n.workAsyncStorageInstance}});let n=r(6035)}}]);